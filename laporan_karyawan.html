<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOTEL DAVINA - Laporan Penjualan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .confirmation-section {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        .confirmation-body {
            padding: 20px;
            border: 1px solid #dcdcdc;
            border-radius: 10px;
            background-color: #f9f9f9;
        }
        .icon-circle {
            font-size: 50px;
            color: green;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger shadow-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="halaman_karyawan.html">Home</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="laporan_karyawan.html">Laporan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Status_pesanan.html">Konfirmasi Pesanan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="rekap_keluhan.html">Keluhan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="manajemen.html">Manajemen</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form Laporan Penjualan -->
    <div class="container mt-5 pt-5">
        <h2 class="text-center mb-4">Laporan Penjualan</h2>
        <form id="laporanForm">
            <div class="row mb-3">
                <label for="hari" class="col-sm-3 col-form-label">Hari</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="hari" name="hari" placeholder="Masukkan hari">
                </div>
            </div>
            <div class="row mb-3">
                <label for="jumlahPesanan" class="col-sm-3 col-form-label">Jumlah Pesanan</label>
                <div class="col-sm-9">
                    <input type="number" class="form-control" id="jumlahPesanan" name="jumlahPesanan" placeholder="Masukkan jumlah pesanan">
                </div>
            </div>
            <div class="row mb-3">
                <label for="jumlahPelanggan" class="col-sm-3 col-form-label">Jumlah Pelanggan Masuk</label>
                <div class="col-sm-9">
                    <input type="number" class="form-control" id="jumlahPelanggan" name="jumlahPelanggan" placeholder="Masukkan jumlah pelanggan">
                </div>
            </div>
            <div class="row mb-3">
                <label for="jenisPesanan" class="col-sm-3 col-form-label">Jenis Pesanan</label>
                <div class="col-sm-9">
                    <select class="form-select" id="jenisPesanan" name="jenisPesanan">
                        <option value="Makanan">Makanan</option>
                        <option value="Minuman">Minuman</option>
                        <option value="Kamar">Kamar</option>
                        <option value="Laundry">Laundry</option>
                        <option value="Spa">Spa</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label for="catatan" class="col-sm-3 col-form-label">Catatan</label>
                <div class="col-sm-9">
                    <textarea class="form-control" id="catatan" name="catatan" rows="4" placeholder="Tambahkan catatan tambahan"></textarea>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" onclick="goBack()">Back</button>
                <div>
                    <button type="button" class="btn btn-info me-2" onclick="showDetails()">Rincian</button>
                    <button type="button" class="btn btn-success" onclick="submitReport()">Kirim Laporan</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Modal for Rincian -->
    <div class="modal fade" id="rincianModal" tabindex="-1" aria-labelledby="rincianModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="rincianModalLabel">Rincian Laporan</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="rincianContent">
                    <!-- Rincian akan diisi melalui JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Section -->
    <div class="container confirmation-section" id="confirmationSection">
        <div class="confirmation-body">
            <div class="icon-circle">âœ“</div>
            <h4>Laporan Berhasil Dikirim</h4>
            <p>Terima kasih atas laporan Anda. Kami akan memprosesnya.</p>
            <button class="btn btn-secondary px-4 py-2 mt-3" onclick="resetForm()">Kembali</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function goBack() {
            window.location.href = "halaman_karyawan.html"; // Ganti dengan URL halaman yang sesuai
        }

        function submitReport() {
            // Ambil data dari form
            const hari = document.getElementById("hari").value;
            const jumlahPesanan = document.getElementById("jumlahPesanan").value;
            const jumlahPelanggan = document.getElementById("jumlahPelanggan").value;
            const jenisPesanan = document.getElementById("jenisPesanan").value;
            const catatan = document.getElementById("catatan").value;

            // Simpan data laporan ke localStorage (bisa diganti dengan server-side storage)
            const laporanData = JSON.parse(localStorage.getItem("laporanData")) || [];
            laporanData.push({
                hari,
                jumlahPesanan,
                jumlahPelanggan,
                jenisPesanan,
                catatan
            });

            localStorage.setItem("laporanData", JSON.stringify(laporanData));

            // Sembunyikan form laporan
            document.getElementById('laporanForm').style.display = 'none';

            // Tampilkan bagian konfirmasi
            document.getElementById('confirmationSection').style.display = 'block';
        }

        function showDetails() {
            const hari = document.getElementById("hari").value;
            const jumlahPesanan = document.getElementById("jumlahPesanan").value;
            const jumlahPelanggan = document.getElementById("jumlahPelanggan").value;
            const jenisPesanan = document.getElementById("jenisPesanan").value;
            const catatan = document.getElementById("catatan").value;

            const rincianContent = `
                <p><strong>Hari:</strong> ${hari}</p>
                <p><strong>Jumlah Pesanan:</strong> ${jumlahPesanan}</p>
                <p><strong>Jumlah Pelanggan Masuk:</strong> ${jumlahPelanggan}</p>
                <p><strong>Jenis Pesanan:</strong> ${jenisPesanan}</p>
                <p><strong>Catatan:</strong> ${catatan}</p>
            `;

            document.getElementById("rincianContent").innerHTML = rincianContent;

            // Tampilkan modal rincian
            const rincianModal = new bootstrap.Modal(document.getElementById("rincianModal"));
            rincianModal.show();
        }

        function resetForm() {
            // Tampilkan kembali form laporan
            document.getElementById('laporanForm').style.display = 'block';

            // Sembunyikan bagian konfirmasi
            document.getElementById('confirmationSection').style.display = 'none';

            // Reset form input
            document.getElementById('laporanForm').reset();
        }
    </script>
</body>
</html>
